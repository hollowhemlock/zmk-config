parse_config:
  zmk_additional_includes:
    - "modules/zmk/helpers/include"
  zmk_preamble: |
    #include <zmk-helpers/key-labels/34.h>
    #define CONFIG_WIRELESS
  raw_binding_map:
    # sys keys
    "&sys_reset": $$mdi:restart$$
    "&bootloader": $$mdi:progress-download$$
    "&caps_word": Caps Word

    "&bt BT_SEL 0": BT1
    "&bt BT_SEL 1": BT2
    "&bt BT_SEL 2": BT3
    "&bt BT_SEL 3": BT4
    "&bt BT_SEL 4": BT5
    "&bt BT_CLR": $$mdi:bluetooth-off$$
    "&out OUT_BLE": $$mdi:bluetooth$$
    "&out OUT_USB": $$mdi:usb$$

    # combo keys
    "&kp LC(INS)": Copy
    "&kp LC(X)": Cut
    "&kp LS(INS)": Paste

    "&kp LG(LC(LEFT))": Prev Desk
    "&kp LG(LC(RIGHT))": Next Desk
    "&kp LG(LC(LS(A)))": Pin App
    "&kp LG(LC(LS(Q)))": Pin Win

    "&swapper": Next Win
    "&kp LS(TAB)": Prev Win

    # NAV layer combos share positions with main layer combos: ( ) [ ]
    "&kp LT": "(<"
    "&kp GT": ")>"
    "&kp LBRC": "[{"
    "&kp RBRC": "]}"
    "&dot_spc": Sentence
    
    "&smart_mouse": Smart Mouse
    "&kp LC(K)": Ck

    "&hml LA(LCTRL) ESC": Esc
    "&hml LA(LGUI) ENTER": $$mdi:keyboard-return$$
    "&hml LS(LALT)TAB": Tab
    "&hm_combo_ldr": Leader
    "&hm_combo_ldrsh": Shift+Leader

    "&mmv MOVE_UP": Mouse ↑
    "&mmv MOVE_DOWN": Mouse ↓
    "&mmv MOVE_LEFT": Mouse ←
    "&mmv MOVE_RIGHT": Mouse →

    "&msc SCRL_UP": Scroll ↑
    "&msc SCRL_DOWN": Scroll ↓
    "&msc SCRL_LEFT": Scroll ←
    "&msc SCRL_RIGHT": Scroll →

    "&mkp LCLK": Left Click
    "&mkp RCLK": Right Click
    "&mkp MCLK": Middle Click
    "&mkp MB4": Back Click
    "&mkp MB5": Forward Click

    # Home row mods with type for editing
    "&hml LSHFT A": {t: A, h: ⇧, type: mod}
    "&hml LCTRL R": {t: R, h: ⌃, type: mod}
    "&hml LALT S": {t: S, h: ⌥, type: mod}
    "&hml LGUI T": {t: T, h: ⌘, type: mod}
    "&hmr RGUI N": {t: N, h: ⌘, type: mod}
    "&hmr RALT E": {t: E, h: ⌥, type: mod}
    "&hmr RCTRL I": {t: I, h: ⌃, type: mod}
    "&hmr RSHFT O": {t: O, h: ⇧, type: mod}
    # QWERTY HRMs
    "&hml LCTRL S": {t: S, h: ⌃, type: mod}
    "&hml LALT D": {t: D, h: ⌥, type: mod}
    "&hml LGUI F": {t: F, h: ⌘, type: mod}
    "&hmr RGUI J": {t: J, h: ⌘, type: mod}
    "&hmr RALT K": {t: K, h: ⌥, type: mod}
    "&hmr RCTRL L": {t: L, h: ⌃, type: mod}
    "&hmr RSHFT SEMI": {t: ";", h: ⇧, type: mod}
    # Sticky modifiers
    "&sk LSHFT": {t: ⇧, h: sticky, type: mod}
    "&sk RSHFT": {t: ⇧, h: sticky, type: mod}
    "&sk LCTRL": {t: ⌃, h: sticky, type: mod}
    "&sk RCTRL": {t: ⌃, h: sticky, type: mod}
    "&sk LALT": {t: ⌥, h: sticky, type: mod}
    "&sk RALT": {t: ⌥, h: sticky, type: mod}
    "&sk LGUI": {t: ⌘, h: sticky, type: mod}
    "&sk RGUI": {t: ⌘, h: sticky, type: mod}

    "&smart_shft": { t: ⇧, s: Caps Word }
    "&magic_shift": { t: Magic, h: "⇧" }

    "&to QWERTY": { t: Qwrty, type: layer }
    "&to CMK_DH": { t: CmkDh, type: layer }
    "&to GAM": { t: Gam, type: layer }  
    
    # Layer activator keys - type: layer-XX matches colors from Justfile (tl/tr/bl/br)
    "&sl FUN": { t: Fun, type: layer-tl }
    "&sl NAV": { t: Nav, type: layer-br }
    "&mo SYS": { t: Sys, type: layer-tr }
    "&mo NAV": { t: Nav, type: layer-br }
    "&num_dance": { t: Smart-num, h: "", type: layer-bl }
    "&smart_num NUM 0": { t: Smart-num, type: layer-bl }

  trans_legend: { t: "", type: trans }

  zmk-combos:
    combo_cut: { align: bottom, o: 0.15 }
    combo_ldrsh: { align: top, o: 1.35 }

  zmk_keycode_map:
    # custom mappings
    LALT: ⌥
    RALT: ⌥
    LCTRL: ⌃
    RCTRL: ⌃
    LGUI: ⌘
    RGUI: ⌘
    LSHFT: ⇧
    RSHFT: ⇧

    BSPC: Bspc
    DEL: Del
    ESC: Esc
    RET: $$mdi:keyboard-return$$
    K_APP: $$mdi:menu$$
    SPACE: Spc
    TAB: Tab

    PG_UP: PgUp
    PG_DN: PgDn
    INS: Ins
    HOME: Home
    END: End

    UP: ↑
    DOWN: ↓
    LEFT: ←
    RIGHT: →

    C_MUTE: $$mdi:volume-off$$
    C_PP: $$mdi:play-pause$$
    C_VOL_UP: $$mdi:volume-high$$
    C_VOL_DN: $$mdi:volume-medium$$
    C_NEXT: $$mdi:skip-forward$$
    C_PREV: $$mdi:skip-backward$$
    PAUSE_BREAK: $$mdi:pause$$

    # defaults
    AMPERSAND: "&"
    AMPS: "&"
    APOS: "'"
    APOSTROPHE: "'"
    ASTERISK: "*"
    ASTRK: "*"
    AT: "@"
    AT_SIGN: "@"
    BACKSLASH: \
    BSLH: \
    CARET: ^
    COLON: ":"
    COMMA: ","
    DLLR: $
    DOLLAR: $
    DOT: .
    DOUBLE_QUOTES: '"'
    DQT: '"'
    EQUAL: "="
    EXCL: "!"
    EXCLAMATION: "!"
    FSLH: /
    GRAVE: "`"
    GREATER_THAN: ">"
    GT: ">"
    HASH: "#"
    LBKT: "["
    LBRC: "{"
    LEFT_BRACE: "{"
    LEFT_BRACKET: "["
    LEFT_PARENTHESIS: (
    LESS_THAN: <
    LPAR: (
    LT: <
    MINUS: "-"
    NON_US_BACKSLASH: \
    NON_US_BSLH: "|"
    NON_US_HASH: "#"
    NUHS: "#"
    PERCENT: "%"
    PERIOD: .
    PIPE: "|"
    PIPE2: "|"
    PLUS: +
    POUND: "#"
    PRCNT: "%"
    QMARK: "?"
    QUESTION: "?"
    RBKT: "]"
    RBRC: "}"
    RIGHT_BRACE: "}"
    RIGHT_BRACKET: "]"
    RIGHT_PARENTHESIS: ")"
    RPAR: ")"
    SEMI: ;
    SEMICOLON: ;
    SINGLE_QUOTE: "'"
    SLASH: /
    SQT: "'"
    STAR: "*"
    TILDE: "~"
    TILDE2: "~"
    UNDER: _
    UNDERSCORE: _
draw_config:
  append_colon_to_layer_header: false
  dark_mode: false
  footer_text: "hollowhemlock/zmk-config"
  key_w: 60.0
  key_h: 56.0
  split_gap: 30.0
  combo_w: 28.0
  combo_h: 26.0
  key_rx: 6.0
  key_ry: 6.0
  n_columns: 1
  separate_combo_diagrams: false
  combo_diagrams_scale: 2
  inner_pad_w: 2.0
  inner_pad_h: 2.0
  outer_pad_w: 30.0
  outer_pad_h: 30.0
  line_spacing: 1.2
  arc_radius: 6.0
  small_pad: 4.0
  legend_rel_x: 0.0
  legend_rel_y: 0.0
  draw_key_sides: false
  key_side_pars:
    rel_x: 0
    rel_y: 4
    rel_w: 12
    rel_h: 12
    rx: 4
    ry: 4
  svg_extra_style: |
    /* Base styles - colors injected by merge_layers.py from Justfile */
    .layer-MAIN_COMBOS rect.key { opacity: 0.7; }

    /* Layer activator key colors */
    .held-tl rect, .layer-tl rect { fill: #F93827; }
    .held-tr rect, .layer-tr rect { fill: #2563EB; }
    .held-bl rect, .layer-bl rect { fill: #16A34A; }
    .held-br rect, .layer-br rect { fill: #FF9D23; }

    /* Text on colored layer activator keys */
    .held-tl text, .layer-tl text { fill: white; }
    .held-tr text, .layer-tr text { fill: white; }
    .held-bl text, .layer-bl text { fill: white; }
    .held-br text, .layer-br text { fill: white; }

    /* Corner legend text colors, sizing, and alignment */
    /* text grows inward toward key center */
    text.tl { fill: #F93827; font-size: 8px; text-anchor: start; dominant-baseline: hanging; }
    text.tr { fill: #2563EB; font-size: 8px; text-anchor: end; dominant-baseline: hanging; }
    text.bl { fill: #16A34A; font-size: 8px; text-anchor: start; dominant-baseline: auto; }
    text.br { fill: #FF9D23; font-size: 8px; text-anchor: end; dominant-baseline: auto; }
  shrink_wide_legends: 7
  style_layer_activators: true
  glyph_tap_size: 14
  glyph_hold_size: 12
  glyph_shifted_size: 10
  glyphs:
    mdi: https://raw.githubusercontent.com/Templarian/MaterialDesign/master/svg/{glyph_name}.svg
stack_config:
  corner_hide:
    - ⇧
    - ⌃
    - ⌥
    - ⌘
    - Nav
    - Spc
    - sticky
    - num